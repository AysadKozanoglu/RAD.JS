!function(e){function t(n){if(l[n])return l[n].exports;var i=l[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var l={};return t.m=e,t.c=l,t.p="",t(0)}([function(e,t,l){"use strict";var n=l(1),i=(l(2),l(3));l(4),n.publish("navigation.show",{container:"#todo-app",content:l(6),options:{filter:i.getValue()}})},function(e,t){e.exports=RAD},function(e,t){e.exports=Backbone},function(e,t,l){"use strict";var n=l(2),i=l(1),o=n.Router.extend({routes:{"*filter":"filterItems"},initialize:function(){n.history.start()},filterItems:function(e){this.filterVal=e,i.publish("filter",e)},getValue:function(){return this.filterVal}}),s=new o;e.exports=s},function(e,t,l){"use strict";var n=l(1),i=l(2),o=l(5);n.utils.ITemplate.registerHelper("i-NavItem",function(e){o({href:e.href,title:e.title,selected:i.history.fragment===e.href})})},function(e,t,l){e.exports=function(e,t){var n=function(e,t,l,n,i){var o=t.elementOpen,s=t.elementClose,r=(t.elementVoid,t.text),u={};return i=i||function(e,t,l){return e(t,l)},e.selected?(o("a",null,null,"href","#/"+(void 0===e.href?"":e.href),"class","selected"),r(void 0===e.title?"":e.title),s("a")):(o("a",null,null,"href","#/"+(void 0===e.href?"":e.href)),r(void 0===e.title?"":e.title),s("a")),u};return n.call(this,e,l(1).utils.IncrementalDOM,l(1).utils.ITemplate.helpers,t,l(1).utils.binder)}},function(e,t,l){"use strict";var n=(l(7),l(8)),i=l(1),o=(l(2),l(9));window.todoList=o;var s=i.View.extend({template:l(10),events:{submit:"preventSubmit","submit .form-todo":"addTodo","change .toggle-all":"toggleAll","click .clear-completed":"clearCompleted"},initialize:function(){o.fetch({reset:!0}),this.bindRender(o,"add remove reset change:completed"),this.subscribe("filter",this.filter,this)},preventSubmit:function(e){e.preventDefault()},filter:function(e){this.props.set("filter",e)},getTemplateData:function(){return{todos:n(o.filterBy(this.props.get("filter"))),remaining:o.active().length,length:o.length}},addTodo:function(e){e.preventDefault(),o.create({id:n.uniqueId("todo-"),title:this.refs.inputField.value.trim()}),this.refs.inputField.value=""},toggleAll:function(e){o.each(function(t){t.save({completed:e.target.checked},{silent:!0})}),this.render()},clearCompleted:function(){n.invoke(o.completed(),"destroy"),this.render()}});e.exports=s},function(e,t){e.exports=jQuery},function(e,t){e.exports=_},function(e,t,l){"use strict";var n=(l(1),l(8)),i=l(2),o=i.Model.extend({defaults:{title:"",completed:!1},toggle:function(){this.save({completed:!this.get("completed")})},validate:function(e){return e.title?void 0:"title cannot be blank"},isVisible:function(e){return"completed"===e?this.get("completed"):"active"===e?!this.get("completed"):!0}}),s=i.Collection.extend({model:o,localStorage:new i.LocalStorage("todos-backbone"),comparator:"order",filterBy:function(e){return"function"==typeof this[e]?this[e]():this.models},completed:function(){return this.where({completed:!0})},active:function(){return this.where({completed:!1})},nextOrder:function(){return this.length?this.last().get("order")+1:1},create:function(e,t){return e=n.extend({},e,{order:this.nextOrder()}),t=n.extend({},t,{validate:!0}),i.Collection.prototype.create.call(this,e,t)}});e.exports=new s},function(e,t,l){e.exports=function(e,t){var n=function(e,t,n,i,o){var s=t.elementOpen,r=t.elementClose,u=t.elementVoid,c=t.text,a={};o=o||function(e,t,l){return e(t,l)};var d=l(11);return s("header",null,null,"class","header"),s("h1",null),c("todos"),r("h1"),s("form",null,null,"action","#","class","form-todo"),a.inputField=u("input",null,null,"class","new-todo","name","todo-title","placeholder","What needs to be done?","autofocus","autofocus"),u("input",null,null,"class","hidden-input","type","submit","value","submit"),r("form"),r("header"),e.length&&(s("section",null,null,"class","main"),e.remaining?u("input",null,null,"class","toggle-all","type","checkbox","name","toggle-all"):u("input",null,null,"class","toggle-all","type","checkbox","name","toggle-all","checked","checked"),n["i-transition"]({tagName:"ul","class":"todo-list",key:"list",animationName:"height",initialAnimation:"none",enterTimeout:"400",leaveTimeout:"400"},function(t){e.todos.each(function(e){o(d,{key:e.get("id"),model:e,tagName:"li"},function(e){}.bind(this))},this)}.bind(this)),r("section"),s("footer",null,null,"class","footer"),s("span",null,null,"class","todo-count"),s("strong",null),c(void 0===e.remaining?"":e.remaining),r("strong"),s("span",null),c((void 0===(1===e.remaining?" item":" items")?"":1===e.remaining?" item":" items")+" left"),r("span"),r("span"),s("ul",null,null,"class","filters"),s("li",null),n["i-NavItem"]({href:"",title:"All"},function(e){}.bind(this)),r("li"),s("li",null),n["i-NavItem"]({href:"active",title:"Active"},function(e){}.bind(this)),r("li"),s("li",null),n["i-NavItem"]({href:"completed",title:"Completed"},function(e){}.bind(this)),r("li"),r("ul"),e.length!=e.remaining&&(s("button",null,null,"class","clear-completed"),c("Clear completed"),r("button")),r("footer")),a};return n.call(this,e,l(1).utils.IncrementalDOM,l(1).utils.ITemplate.helpers,t,l(1).utils.binder)}},function(e,t,l){"use strict";var n=l(1),i=27,o=13,s=n.View.extend({template:l(12),events:{"click .toggle":"toggle","dblclick .todo-label":"editMode","blur .edit":"saveAndClose","keyup .edit":"handleInput","click .destroy":"removeTodo"},className:function(){var e=this.model.get("completed")?"completed":"",t=this.props.get("editing")?"editing":"";return e+" "+t},initialize:function(){this.bindRender(this.model,"change:title")},toggle:function(){this.model.toggle()},editMode:function(){this.field=this.refs.edit,this.props.set("editing",!0),this.field.focus()},closeEditMode:function(){this.props.set("editing",!1),this.field.blur()},handleInput:function(e){e.keyCode==o?this.saveAndClose():e.keyCode==i&&this.revertAndClose()},revertAndClose:function(){this.field.value=this.model.get("title"),this.closeEditMode()},saveAndClose:function(){var e=this.field.value.trim();this.props.get("editing")&&(this.closeEditMode(),e?this.model.save({title:e}):this.model.destroy())},removeTodo:function(){this.model.destroy()}});e.exports=s},function(e,t,l){e.exports=function(e,t){var n=function(e,t,l,n,i){var o=t.elementOpen,s=t.elementClose,r=t.elementVoid,u=t.text,c={};return i=i||function(e,t,l){return e(t,l)},o("form",null,null,"action","#","class","form-todo-item"),o("div",null,null,"class","view"),e.model.completed?r("input",null,null,"class","toggle","type","checkbox","name","toggle","checked","checked"):r("input",null,null,"class","toggle","type","checkbox","name","toggle"),o("label",null,null,"class","todo-label no-select"),u(void 0===e.model.title?"":e.model.title),s("label"),r("button",null,null,"class","destroy","type","button"),s("div"),c.edit=r("input",null,null,"class","edit","name","todo-title","value",void 0===e.model.title?"":e.model.title),s("form"),c};return n.call(this,e,l(1).utils.IncrementalDOM,l(1).utils.ITemplate.helpers,t,l(1).utils.binder)}}]);